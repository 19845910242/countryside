<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¹¡æ‘éŸµå­¦ - è¯¾ç¨‹ä¸­å¿ƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        :root {
            --primary-color: #4a7c59;
            --primary-dark: #3a6b49;
            --primary-light: #c8e6c9;
            --accent-color: #e6b450;
            --text-dark: #2c3e2d;
            --text-light: #6b8e6b;
            --bg-light: #f9fffa;
            --white: #ffffff;
            --gray-light: #f5f5f5;
        }

        body {
            background: linear-gradient(135deg, #e6f2e6, #c8e6c9);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* å¯¼èˆªæ  */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            z-index: 100;
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: 10px;
            font-size: 28px;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
            padding: 5px 0;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .nav-links a.active {
            color: var(--primary-color);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-color);
            border-radius: 2px;
        }

        .user-actions {
            display: flex;
            align-items: center;
        }

        .user-actions a {
            text-decoration: none;
            color: var(--text-dark);
            margin-left: 20px;
            transition: color 0.3s;
        }

        .user-actions a:hover {
            color: var(--primary-color);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-left: 20px;
            cursor: pointer;
            position: relative;
        }

        .user-menu {
            position: absolute;
            top: 50px;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            width: 180px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
        }

        .user-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .user-menu a {
            display: block;
            padding: 12px 15px;
            color: var(--text-dark);
            text-decoration: none;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s;
        }

        .user-menu a:hover {
            background: #f9f9f9;
            color: var(--primary-color);
        }

        .user-menu a:last-child {
            border-bottom: none;
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            margin-top: 80px;
            padding: 40px 5%;
        }

        /* é¡µé¢æ ‡é¢˜ */
        .page-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .page-title {
            font-size: 36px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .page-subtitle {
            font-size: 18px;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        /* æœç´¢å’Œç­›é€‰åŒºåŸŸ */
        .search-filter-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .search-box {
            position: relative;
            flex: 1;
            min-width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 1px solid var(--primary-light);
            border-radius: 30px;
            background: white;
            font-size: 16px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 124, 89, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            cursor: pointer;
        }

        .sort-options {
            display: flex;
            gap: 10px;
        }

        .sort-btn {
            padding: 10px 15px;
            background: white;
            border: 1px solid var(--primary-light);
            border-radius: 20px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .sort-btn.active, .sort-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        /* è¯¾ç¨‹ç­›é€‰ */
        .course-filters {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .filter-btn {
            padding: 10px 20px;
            background: var(--white);
            border: 1px solid var(--primary-light);
            border-radius: 30px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .filter-btn.active, .filter-btn:hover {
            background: var(--primary-color);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 124, 89, 0.2);
        }

        /* è¯¾ç¨‹ç½‘æ ¼ */
        .courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .course-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.4s ease;
            position: relative;
            cursor: pointer;
        }

        .course-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .course-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
        }

        .course-category {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent-color);
            color: var(--white);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .favorite-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.8);
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 18px;
        }

        .favorite-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .favorite-btn.active {
            color: #ff4757;
        }

        .course-content {
            padding: 20px;
        }

        .course-title {
            font-size: 20px;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        .course-description {
            color: var(--text-light);
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
            height: 60px;
            overflow: hidden;
        }

        .course-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .course-duration, .course-level {
            display: flex;
            align-items: center;
            color: var(--text-light);
            font-size: 14px;
        }

        .course-duration i, .course-level i {
            margin-right: 5px;
        }

        .progress-bar {
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: var(--primary-color);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .progress-text {
            font-size: 12px;
            color: var(--text-light);
            text-align: right;
            margin-bottom: 15px;
        }

        .course-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .course-btn:hover {
            background: var(--primary-dark);
        }

        /* ç‰¹è‰²è¯¾ç¨‹ */
        .featured-courses {
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 28px;
            color: var(--primary-color);
            margin-bottom: 30px;
            text-align: center;
        }

        .featured-slider {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            height: 400px;
        }

        .featured-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            padding: 40px;
            background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            color: var(--white);
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        .featured-slide.active {
            opacity: 1;
        }

        .slide-content {
            max-width: 50%;
            z-index: 2;
        }

        .slide-title {
            font-size: 32px;
            margin-bottom: 20px;
        }

        .slide-description {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .slide-btn {
            display: inline-block;
            padding: 12px 25px;
            background: var(--white);
            color: var(--primary-color);
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
        }

        .slide-btn:hover {
            background: var(--accent-color);
            color: var(--white);
        }

        .slide-image {
            position: absolute;
            right: 0px;
            bottom: 0;
            width: 40%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            opacity: 0.8;
        }

        .slider-dots {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--primary-light);
            margin: 0 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .slider-dot.active {
            background: var(--primary-color);
        }

        /* ç»Ÿè®¡ä¿¡æ¯ */
        .stats-section {
            background: var(--white);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 60px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
        }

        .stat-number {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 16px;
            color: var(--text-light);
        }

        /* é¡µè„š */
        .footer {
            background: var(--primary-color);
            color: var(--white);
            padding: 40px 5%;
            text-align: center;
        }

        .footer-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .footer-links a {
            color: var(--white);
            text-decoration: none;
            margin: 0 15px;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--accent-color);
        }

        .copyright {
            margin-top: 20px;
            font-size: 14px;
            opacity: 0.8;
        }

        /* æ¶ˆæ¯æç¤º */
        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s;
        }

        .message.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* è¯¾ç¨‹è¯¦æƒ…æ¨¡æ€æ¡† */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .course-modal {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .modal-overlay.active .course-modal {
            transform: scale(1);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 24px;
            color: var(--primary-color);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--primary-color);
        }

        .modal-content {
            padding: 20px;
        }

        .modal-course-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 64px;
            margin-bottom: 20px;
        }

        .modal-course-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .info-item {
            display: flex;
            align-items: center;
        }

        .info-label {
            font-weight: bold;
            margin-right: 10px;
            color: var(--text-dark);
        }

        .info-value {
            color: var(--text-light);
        }

        .modal-course-description {
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--text-dark);
        }

        .course-chapters {
            margin-bottom: 20px;
        }

        .chapter-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .chapter-list {
            list-style: none;
        }

        .chapter-item {
            padding: 10px 15px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chapter-item:last-child {
            border-bottom: none;
        }

        .chapter-name {
            color: var(--text-dark);
        }

        .chapter-duration {
            color: var(--text-light);
            font-size: 14px;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .modal-btn.primary {
            background: var(--primary-color);
            color: white;
            flex: 2;
        }

        .modal-btn.secondary {
            background: #f0f0f0;
            color: var(--text-dark);
            flex: 1;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* å­¦ä¹ è¿›åº¦æŒ‡ç¤ºå™¨ */
        .learning-progress {
            margin: 20px 0;
        }

        .progress-container {
            background: #f0f0f0;
            border-radius: 10px;
            height: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                padding: 15px;
            }

            .nav-links {
                margin: 20px 0;
            }

            .nav-links li {
                margin: 0 10px;
            }

            .page-title {
                font-size: 28px;
            }

            .search-filter-section {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                min-width: 100%;
            }

            .sort-options {
                justify-content: center;
            }

            .courses-grid {
                grid-template-columns: 1fr;
            }

            .featured-slide {
                flex-direction: column;
                text-align: center;
                padding: 20px;
            }

            .slide-content {
                max-width: 100%;
                margin-bottom: 30px;
            }

            .slide-image {
                position: relative;
                right: 0;
                width: 100%;
                height: 150px;
                font-size: 80px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .modal-course-info {
                grid-template-columns: 1fr;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* é«˜çº§ç­›é€‰é¢æ¿ */
        .advanced-filter-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }

        .advanced-filter-panel.active {
            display: block;
        }

        .filter-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .filter-group {
            margin-bottom: 15px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--text-dark);
        }

        .filter-group select, .filter-group input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .toggle-advanced {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<!-- å¯¼èˆªæ  -->
<nav class="navbar">
    <div class="logo">
        <span class="logo-icon">ğŸŒ¿</span>
        ä¹¡æ‘éŸµå­¦
    </div>
    <ul class="nav-links">
        <li><a href="./index.html">é¦–é¡µ</a></li>
        <li><a href="./courses.html"  class="active">è¯¾ç¨‹ä¸­å¿ƒ</a></li>
        <li><a href="./vr.html">VRä½“éªŒ</a></li>
        <li><a href="./ai.html">AIåŠ©æ‰‹</a></li>
    </ul>
    <div class="user-actions">
        <a href="profile.html">ä¸ªäººä¸­å¿ƒ</a>
        <div class="user-avatar" id="userAvatar">ç”¨</div>
        <div class="user-menu" id="userMenu">
            <a href="profile.html">ä¸ªäººèµ„æ–™</a>
            <a href="my-courses.html">æˆ‘çš„è¯¾ç¨‹</a>
            <a href="favorites.html">æˆ‘çš„æ”¶è—</a>
            <a href="settings.html">è®¾ç½®</a>
            <a href="logout.html">é€€å‡ºç™»å½•</a>
        </div>
    </div>
</nav>

<!-- æ¶ˆæ¯æç¤º -->
<div class="message" id="message"></div>

<!-- è¯¾ç¨‹è¯¦æƒ…æ¨¡æ€æ¡† -->
<div class="modal-overlay" id="courseModal">
    <div class="course-modal">
        <div class="modal-header">
            <h2 class="modal-title" id="modalCourseTitle">è¯¾ç¨‹æ ‡é¢˜</h2>
            <button class="close-modal" id="closeModal">&times;</button>
        </div>
        <div class="modal-content">
            <div class="modal-course-image" id="modalCourseImage"></div>
            <div class="modal-course-info">
                <div class="info-item">
                    <span class="info-label">åˆ†ç±»:</span>
                    <span class="info-value" id="modalCourseCategory">æ‰‹å·¥è‰º</span>
                </div>
                <div class="info-item">
                    <span class="info-label">éš¾åº¦:</span>
                    <span class="info-value" id="modalCourseLevel">åˆçº§</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ—¶é•¿:</span>
                    <span class="info-value" id="modalCourseDuration">12è¯¾æ—¶</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å­¦ä¹ äººæ•°:</span>
                    <span class="info-value" id="modalCourseStudents">1250äºº</span>
                </div>
            </div>
            <p class="modal-course-description" id="modalCourseDescription">è¯¾ç¨‹æè¿°å†…å®¹...</p>

            <div class="learning-progress">
                <div class="progress-container">
                    <div class="progress-fill" id="modalProgressFill" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="modalProgressText">å­¦ä¹ è¿›åº¦: 0%</div>
            </div>

            <div class="course-chapters">
                <h3 class="chapter-title">è¯¾ç¨‹ç« èŠ‚</h3>
                <ul class="chapter-list" id="modalChapterList">
                    <!-- ç« èŠ‚å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </ul>
            </div>
            <div class="modal-actions">

                <button class="modal-btn secondary" id="addToFavoritesBtn">åŠ å…¥æ”¶è—</button>
            </div>
        </div>
    </div>
</div>

<!-- ä¸»å†…å®¹åŒº -->
<main class="main-content">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <header class="page-header">
        <h1 class="page-title">æ¢ç´¢ä¹¡æ‘æ–‡åŒ–è¯¾ç¨‹</h1>
        <p class="page-subtitle">ä»ä¼ ç»Ÿæ‰‹å·¥è‰ºåˆ°è‡ªç„¶å†œè€•ï¼Œä»æ°‘é—´è‰ºæœ¯åˆ°ä¹¡åœŸæ–‡å­¦ï¼Œå‘ç°ä¹¡æ‘çš„æ— é™é­…åŠ›</p>
    </header>
    <!-- ç‰¹è‰²è¯¾ç¨‹ -->
    <section class="featured-courses">
        <h2 class="section-title">ç²¾é€‰ç‰¹è‰²è¯¾ç¨‹</h2>
        <div class="featured-slider">
            <div class="featured-slide active">
                <div class="slide-content">
                    <h3 class="slide-title">ä¼ ç»Ÿç«¹ç¼–è‰ºæœ¯</h3>
                    <p class="slide-description">å­¦ä¹ ä¼ ç»Ÿç«¹ç¼–æŠ€è‰ºï¼Œä»é€‰æåˆ°ç¼–ç»‡ï¼ŒæŒæ¡è¿™é—¨å¤è€è€Œå®ç”¨çš„æ‰‹å·¥è‰ºã€‚è¯¾ç¨‹åŒ…å«åŸºç¡€ç¼–ç»‡æŠ€å·§ã€å¸¸è§ç«¹åˆ¶å“åˆ¶ä½œä»¥åŠåˆ›æ–°è®¾è®¡ç†å¿µã€‚</p>
                    <a href="#" class="slide-btn">ç«‹å³å­¦ä¹ </a>
                </div>
                <div class="slide-image">
                    <img src="./images/19.jpeg" width="400px" height="400px" alt="">
                </div>
            </div>
            <div class="featured-slide">
                <div class="slide-content">
                    <h3 class="slide-title">ç”Ÿæ€å†œä¸šå®è·µ</h3>
                    <p class="slide-description">äº†è§£ç”Ÿæ€å†œä¸šçš„åŸºæœ¬åŸç†å’Œå®è·µæ–¹æ³•ï¼Œå­¦ä¹ å¦‚ä½•åœ¨ä¸ç ´åè‡ªç„¶ç¯å¢ƒçš„å‰æä¸‹å®ç°å¯æŒç»­å†œä¸šç”Ÿäº§ã€‚è¯¾ç¨‹åŒ…å«åœŸå£¤æ”¹è‰¯ã€æœ‰æœºè‚¥æ–™åˆ¶ä½œå’Œç—…è™«å®³ç”Ÿæ€é˜²æ²»ã€‚</p>
                    <a href="#" class="slide-btn">ç«‹å³å­¦ä¹ </a>
                </div>
                <div class="slide-image">
                    <img src="./images/20.jpeg" width="400px" height="400px" alt="">
                </div>
            </div>
            <div class="featured-slide">
                <div class="slide-content">
                    <h3 class="slide-title">ä¹¡æ‘ç¾é£Ÿåˆ¶ä½œ</h3>
                    <p class="slide-description">æ¢ç´¢å„åœ°ä¹¡æ‘ç‰¹è‰²ç¾é£Ÿï¼Œå­¦ä¹ ä½¿ç”¨å½“åœ°é£Ÿæåˆ¶ä½œå¥åº·ç¾å‘³çš„ä¼ ç»Ÿèœè‚´ã€‚ä»é£ŸææŒ‘é€‰åˆ°çƒ¹é¥ªæŠ€å·§ï¼Œå…¨æ–¹ä½æŒæ¡ä¹¡æ‘ç¾é£Ÿçš„åˆ¶ä½œç²¾é«“ã€‚</p>
                    <a href="#" class="slide-btn">ç«‹å³å­¦ä¹ </a>
                </div>
                <div class="slide-image">
                    <img src="./images/21.jpeg" width="400px" height="400px" alt="">
                </div>
            </div>
        </div>
        <div class="slider-dots">
            <span class="slider-dot active" data-index="0"></span>
            <span class="slider-dot" data-index="1"></span>
            <span class="slider-dot" data-index="2"></span>
        </div>
    </section>
    <!-- æœç´¢å’Œç­›é€‰åŒºåŸŸ -->
    <div class="search-filter-section">
        <div class="search-box">
            <input type="text" class="search-input" id="searchInput" placeholder="æœç´¢è¯¾ç¨‹...">
            <span class="search-icon">ğŸ”</span>
        </div>
        <div class="sort-options">
            <button class="sort-btn active" data-sort="popular">æœ€å—æ¬¢è¿</button>
            <button class="sort-btn" data-sort="rating">æœ€é«˜è¯„åˆ†</button>
            <button class="sort-btn" data-sort="newest">æœ€æ–°å‘å¸ƒ</button>
            <button class="toggle-advanced" id="toggleAdvanced">é«˜çº§ç­›é€‰ âˆ¨</button>
        </div>
    </div>

    <!-- é«˜çº§ç­›é€‰é¢æ¿ -->
    <div class="advanced-filter-panel" id="advancedFilterPanel">
        <div class="filter-options">
            <div class="filter-group">
                <label>éš¾åº¦çº§åˆ«</label>
                <select id="levelFilter">
                    <option value="all">å…¨éƒ¨çº§åˆ«</option>
                    <option value="åˆçº§">åˆçº§</option>
                    <option value="ä¸­çº§">ä¸­çº§</option>
                    <option value="é«˜çº§">é«˜çº§</option>
                </select>
            </div>
            <div class="filter-group">
                <label>è¯¾ç¨‹æ—¶é•¿</label>
                <select id="durationFilter">
                    <option value="all">å…¨éƒ¨æ—¶é•¿</option>
                    <option value="short">0-5è¯¾æ—¶</option>
                    <option value="medium">6-10è¯¾æ—¶</option>
                    <option value="long">11+è¯¾æ—¶</option>
                </select>
            </div>
            <div class="filter-group">
                <label>å­¦ä¹ è¿›åº¦</label>
                <select id="progressFilter">
                    <option value="all">å…¨éƒ¨çŠ¶æ€</option>
                    <option value="not-started">æœªå¼€å§‹</option>
                    <option value="in-progress">è¿›è¡Œä¸­</option>
                    <option value="completed">å·²å®Œæˆ</option>
                </select>
            </div>
            <div class="filter-group">
                <label>è¯„åˆ†èŒƒå›´</label>
                <select id="ratingFilter">
                    <option value="all">å…¨éƒ¨è¯„åˆ†</option>
                    <option value="4.5+">4.5åˆ†ä»¥ä¸Š</option>
                    <option value="4.0+">4.0åˆ†ä»¥ä¸Š</option>
                    <option value="3.5+">3.5åˆ†ä»¥ä¸Š</option>
                </select>
            </div>
        </div>
    </div>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <section class="stats-section">
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">120+</div>
                <div class="stat-label">ç²¾å“è¯¾ç¨‹</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">5,000+</div>
                <div class="stat-label">æ³¨å†Œå­¦å‘˜</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">98%</div>
                <div class="stat-label">æ»¡æ„åº¦</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">50+</div>
                <div class="stat-label">ä¸“ä¸šè®²å¸ˆ</div>
            </div>
        </div>
    </section>

    <!-- è¯¾ç¨‹ç­›é€‰ -->
    <div class="course-filters">
        <button class="filter-btn active" data-category="all">å…¨éƒ¨è¯¾ç¨‹</button>
        <button class="filter-btn" data-category="å†œè€•æŠ€æœ¯">å†œè€•æ–‡æ˜ç ”å­¦ç³»åˆ—ï¼ˆè‡ªç„¶ä¸åŠ³åŠ¨èåˆï¼‰</button>
        <button class="filter-btn" data-category="ä¹¡åœŸæ–‡åŒ–">ä¹¡åœŸæ–‡åŒ–ç ”å­¦ç³»åˆ—ï¼ˆäººæ–‡ä¸ä¼ æ‰¿èåˆï¼‰</button>
        <button class="filter-btn" data-category="ç”Ÿæ€ç§‘è€ƒ">ç”Ÿæ€ç§‘è€ƒç ”å­¦ç³»åˆ—ï¼ˆç§‘å­¦ä¸å®è·µèåˆï¼‰</button>
        <button class="filter-btn" data-category="ä¹¡æ‘ç ”å­¦">ç°ä»£ä¹¡æ‘ç ”å­¦ç³»åˆ—ï¼ˆåˆ›æ–°ä¸å‘å±•èåˆï¼‰</button>
    </div>

    <!-- è¯¾ç¨‹ç½‘æ ¼ -->
    <div class="courses-grid" id="coursesGrid">
        <!-- è¯¾ç¨‹å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
    </div>


</main>

<!-- é¡µè„š -->
<footer class="footer">
    <div class="footer-content">
        <div class="logo" style="color: white; justify-content: center; margin-bottom: 20px;">
            <span class="logo-icon">ğŸŒ¿</span>
            ä¹¡æ‘éŸµå­¦
        </div>
        <p class="copyright">Â© 2025 ä¹¡æ‘éŸµå­¦ ç‰ˆæƒæ‰€æœ‰</p>
    </div>
</footer>

<script>
    // è¯¾ç¨‹æ•°æ®
    const courses = [
        {
            id: 1,
            title: "èŠ‚æ°”é‡Œçš„å†œè€•å¯†ç ",
            description: "è·Ÿç€äºŒåå››èŠ‚æ°”ä¸‹ç”°åŠ³ä½œï¼Œæ˜¥ç§è‚²è‹—ã€å¤è€˜çŒæº‰ã€ç§‹æ”¶è„±ç²’ã€å†¬è—å‚¨ç²®ï¼Œç»“åˆåœ­è¡¨æµ‹å½±ç†è§£èŠ‚æ°”æ•°ç†é€»è¾‘ï¼Œåˆ›ç¼–å†œè°šæ‰‹å†Œã€‚",
            category: "å†œè€•æŠ€æœ¯",
            duration: "12è¯¾æ—¶",
            level: "åˆçº§",
            icon: "ğŸ‹",
            students: 1250,
            rating: 4.8,
            chapters: [
                { name: "ç§‹æ”¶è„±ç²’", duration: "2è¯¾æ—¶" },
                { name: "å¤è€˜çŒæº‰", duration: "3è¯¾æ—¶" },
                { name: "å†¬è—å‚¨ç²®", duration: "3è¯¾æ—¶" },
                { name: "æ˜¥ç§è‚²è‹—", duration: "4è¯¾æ—¶" }
            ],
            progress: 30,
            createdAt: "2023-01-15"
        },
        {
            id: 2,
            title: "ä¼ ç»Ÿå†œå…·è¿›åŒ–å²",
            description: "æ‹†è§£æ›²è¾•çŠã€é¾™éª¨æ°´è½¦ç­‰å¤å†œå…·çš„åŠ›å­¦åŸç†ï¼Œç”¨3Då»ºæ¨¡è®¾è®¡æ”¹è‰¯æ–¹æ¡ˆï¼Œä½“éªŒå¤æ³•æ¦¨æ²¹ã€ç«¹ç¼–å†œå…·åˆ¶ä½œçš„éé—æŠ€è‰ºã€‚",
            category: "å†œè€•æŠ€æœ¯",
            duration: "15è¯¾æ—¶",
            level: "ä¸­çº§",
            icon: "ğŸŒ±",
            students: 980,
            rating: 4.7,
            chapters: [
                { name: "æ‹†è§£æ›²è¾•çŠ", duration: "3è¯¾æ—¶" },
                { name: "é¾™éª¨æ°´è½¦", duration: "4è¯¾æ—¶" },
                { name: "3Då»ºæ¨¡", duration: "3è¯¾æ—¶" },
                { name: "å¤å†œå…·", duration: "5è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-02-20"
        },
        {
            id: 3,
            title: "ç¨»ç”°é‡Œçš„ç”Ÿæ€æ™ºæ…§",
            description: "æ¢ç©¶ç¨»é±¼é¸­å…±ç”Ÿç³»ç»Ÿï¼Œç›‘æµ‹å†œç”°åœŸå£¤ä¸æ°´è´¨ï¼Œäº²æ‰‹æ­å»ºå¾®å‹ç”Ÿæ€å†œåœºï¼Œç†è§£â€œå¤©äººåˆä¸€â€çš„å†œè€•å“²å­¦ã€‚",
            category: "å†œè€•æŠ€æœ¯",
            duration: "10è¯¾æ—¶",
            level: "åˆçº§",
            icon: "ğŸ²",
            students: 2100,
            rating: 4.9,
            chapters: [
                { name: "æ¢ç©¶ç¨»é±¼", duration: "2è¯¾æ—¶" },
                { name: "ç›‘æµ‹å†œç”°", duration: "3è¯¾æ—¶" },
                { name: "æ­å»ºå¾®å‹ç”Ÿæ€å†œåœº", duration: "5è¯¾æ—¶" }
            ],
            progress: 70,
            createdAt: "2023-03-10"
        },
        {
            id: 4,
            title: "æ‘è½é‡Œçš„éé—å¥‡é‡",
            description: "è·Ÿç€ä¹¡åœŸå·¥åŒ å­¦é™¶è‰ºã€çš®å½±æˆã€è‰æœ¨æŸ“ï¼Œæ‹“å°ä¹¡æ‘å¤å»ºç“¦å½“ï¼Œåˆ›ç¼–èå…¥ç°ä»£å…ƒç´ çš„æ°‘ä¿—æƒ…æ™¯å‰§ã€‚",
            category: "ä¹¡åœŸæ–‡åŒ–",
            duration: "8è¯¾æ—¶",
            level: "åˆçº§",
            icon: "âœ‚ï¸",
            students: 850,
            rating: 4.6,
            chapters: [
                { name: "é™¶è‰º", duration: "1è¯¾æ—¶" },
                { name: "çš®å½±æˆ", duration: "3è¯¾æ—¶" },
                { name: "è‰æœ¨æŸ“", duration: "4è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-01-25"
        },
        {
            id: 5,
            title: "ä¹¡éŸµè¯—æ–‡åˆ›ä½œè¥",
            description: "æ¼«æ­¥å¤æ‘è½è§£è¯»ã€Šè¯—ç»ã€‹å†œè€•ç¯‡ç« ï¼Œæ”¶é›†æ°‘é—´æ•…äº‹ä¸æ–¹è¨€è°šè¯­ï¼Œç”¨æ–‡å­—ã€æ‘„å½±è®°å½•ä¹¡æ‘è‚Œç†ï¼Œåˆ¶ä½œä¹¡åœŸè¯—é›†ã€‚",
            category: "ä¹¡åœŸæ–‡åŒ–",
            duration: "12è¯¾æ—¶",
            level: "åˆçº§",
            icon: "ğŸ”",
            students: 720,
            rating: 4.5,
            chapters: [
                { name: "è§£è¯»ã€Šè¯—ç»ã€‹", duration: "2è¯¾æ—¶" },
                { name: "æ”¶é›†æ°‘é—´æ•…äº‹", duration: "4è¯¾æ—¶" },
                { name: "ç”¨æ–‡å­—è®°å½•ä¹¡æ‘è‚Œç†", duration: "3è¯¾æ—¶" },
                { name: "åˆ¶ä½œä¹¡åœŸè¯—é›†", duration: "3è¯¾æ—¶" }
            ],
            progress: 20,
            createdAt: "2023-04-05"
        },
        {
            id: 6,
            title: "å…ˆè´¤ç²¾ç¥å¯»è®¿è®°",
            description: "æ¢è®¿ä¹¡æ‘åäººæ•…å±…ã€å¤ä¹¦é™¢ï¼Œæç‚¼â€œè€•è¯»ä¼ å®¶â€çš„ç²¾ç¥å†…æ ¸ï¼Œåˆ¶ä½œå“è´¨å¡ç‰‡å¹¶åˆ¶å®šä¸ªäººè·µè¡Œè®¡åˆ’ã€‚",
            category: "ä¹¡åœŸæ–‡åŒ–",
            duration: "10è¯¾æ—¶",
            level: "ä¸­çº§",
            icon: "ğŸ¨",
            students: 630,
            rating: 4.7,
            chapters: [
                { name: "æ¢è®¿ä¹¡æ‘åäººæ•…å±…", duration: "2è¯¾æ—¶" },
                { name: "æ¢è®¿å¤ä¹¦é™¢", duration: "3è¯¾æ—¶" },
                { name: "æç‚¼â€œè€•è¯»ä¼ å®¶â€ç²¾ç¥å†…æ ¸", duration: "5è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-03-28"
        },
        {
            id: 7,
            title: "æºªæµç”Ÿæ€ä¾¦æ¢",
            description: "å®åœ°ç›‘æµ‹ä¹¡æ‘æºªæµçš„æ°´è´¨ã€æ°´ç”Ÿç”Ÿç‰©ï¼Œåˆ†ææ¤è¢«ä¸æ°´åœŸä¿æŒçš„å…³ç³»ï¼Œè®¾è®¡ç®€æ˜“ç”Ÿæ€ä¿®å¤æ–¹æ¡ˆã€‚",
            category: "ç”Ÿæ€ç§‘è€ƒ",
            duration: "14è¯¾æ—¶",
            level: "ä¸­çº§",
            icon: "ğŸ¥¬",
            students: 1100,
            rating: 4.8,
            chapters: [
                { name: "ç›‘æµ‹ä¹¡æ‘æºªæµçš„æ°´è´¨", duration: "2è¯¾æ—¶" },
                { name: "åœŸå£¤å‡†å¤‡ä¸æ”¹è‰¯", duration: "3è¯¾æ—¶" },
            ],
            progress: 50,
            createdAt: "2023-02-14"
        },
        {
            id: 8,
            title: "å±±é‡æ¤ç‰©å¯†ç ",
            description: "è¾¨è¯†ä¹¡åœŸè¯ç”¨æ¤ç‰©ã€çç¨€æ ‘ç§ï¼Œåˆ¶ä½œæ¤ç‰©æ ‡æœ¬ä¸å¶è„‰ä¹¦ç­¾ï¼Œæ¢ç©¶è‰æœ¨ç°ç­‰å¤©ç„¶è‚¥æ–™çš„åŒ–å­¦åŸç†ã€‚",
            category: "ç”Ÿæ€ç§‘è€ƒ",
            duration: "9è¯¾æ—¶",
            level: "åˆçº§",
            icon: "ğŸ¥¬",
            students: 590,
            rating: 4.4,
            chapters: [
                { name: "è¾¨è¯†ä¹¡åœŸè¯ç”¨æ¤ç‰©", duration: "2è¯¾æ—¶" },
                { name: "åˆ¶ä½œæ¤ç‰©æ ‡æœ¬", duration: "3è¯¾æ—¶" },
            ],
            progress: 0,
            createdAt: "2023-05-12"
        },
        {
            id: 9,
            title: "ä¹¡æ‘æ°”è±¡è§‚å¯Ÿå‘˜",
            description: "æ­å»ºç®€æ˜“æ°”è±¡è§‚æµ‹ç«™ï¼Œè®°å½•æ™´é›¨ã€æ¸©æ¹¿åº¦ä¸å†œäº‹æ´»åŠ¨çš„å…³è”ï¼Œè§£è¯»â€œæœéœä¸å‡ºé—¨â€ç­‰æ°”è±¡è°šè¯­çš„ç§‘å­¦ä¾æ®ã€‚",
            category: "ç”Ÿæ€ç§‘è€ƒ",
            duration: "11è¯¾æ—¶",
            level: "é«˜çº§",
            icon: "ğŸ¥¬",
            students: 480,
            rating: 4.9,
            chapters: [
                { name: "æ­å»ºç®€æ˜“æ°”è±¡è§‚æµ‹ç«™", duration: "2è¯¾æ—¶" },
                { name: "è®°å½•æ™´é›¨ã€æ¸©æ¹¿åº¦ä¸å†œäº‹æ´»åŠ¨", duration: "4è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-04-20"
        },
        {
            id: 10,
            title: "æ™ºæ…§å†œä¸šå°åˆ›å®¢",
            description: "å­¦ä¹ æ™ºèƒ½çŒæº‰ã€æ— äººæœºå·¡ç”°ç­‰ç°ä»£å†œä¸šæŠ€æœ¯ï¼Œç”¨ç¼–ç¨‹è®¾è®¡ç®€æ˜“å†œç”°ç›‘æµ‹ç³»ç»Ÿï¼Œå¯¹æ¯”ä¼ ç»Ÿå†œè€•ä¸ç§‘æŠ€å†œä¸šçš„å·®å¼‚ã€‚",
            category: "ä¹¡æ‘ç ”å­¦",
            duration: "13è¯¾æ—¶",
            level: "é«˜çº§",
            icon: "ğŸ—ºï¸",
            students: 320,
            rating: 4.6,
            chapters: [
                { name: "å­¦ä¹ æ™ºèƒ½çŒæº‰", duration: "2è¯¾æ—¶" },
                { name: "å­¦ä¹ æ— äººæœºå·¡ç”°", duration: "3è¯¾æ—¶" },
                { name: "ç¼–ç¨‹è®¾è®¡ç®€æ˜“å†œç”°ç›‘æµ‹ç³»ç»Ÿ", duration: "4è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-05-30"
        },
        {
            id: 11,
            title: "ä¹¡æ‘æŒ¯å…´è°ƒç ”è¡Œ",
            description: "èµ°è®¿ä¹¡æ‘åˆä½œç¤¾ã€ç‰¹è‰²å·¥åŠï¼Œè°ƒç ”å†œäº§å“äº§é”€é“¾ï¼Œåˆ†ç»„è®¾è®¡ä¹¡æ‘æ—…æ¸¸æ¨å¹¿æ–¹æ¡ˆæˆ–æ–‡åˆ›äº§å“ã€‚",
            category: "ä¹¡æ‘ç ”å­¦",
            duration: "13è¯¾æ—¶",
            level: "é«˜çº§",
            icon: "ğŸ—ºï¸",
            students: 320,
            rating: 4.6,
            chapters: [
                { name: "èµ°è®¿ä¹¡æ‘åˆä½œç¤¾", duration: "2è¯¾æ—¶" },
                { name: "èµ°è®¿ç‰¹è‰²å·¥åŠ", duration: "3è¯¾æ—¶" },
                { name: "è°ƒç ”å†œäº§å“äº§é”€é“¾", duration: "4è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-05-30"
        },
        {
            id: 12,
            title: "ä¹¡åœŸç¾é£Ÿæ–‡åŒ–è¯¾",
            description: "äº†è§£æ‚ç²®ã€é‡èœç­‰ä¹¡æ‘é£Ÿæçš„è¥å…»çŸ¥è¯†ï¼Œè·Ÿç€æ‘æ°‘å­¦åšä¼ ç»Ÿå°åƒï¼Œæ¢ç©¶é£Ÿç‰©å‘é…µã€è…Œåˆ¶çš„ç§‘å­¦åŸç†ã€‚",
            category: "ä¹¡æ‘ç ”å­¦",
            duration: "13è¯¾æ—¶",
            level: "é«˜çº§",
            icon: "ğŸ—ºï¸",
            students: 320,
            rating: 4.6,
            chapters: [
                { name: "äº†è§£æ‚ç²®ã€é‡èœç­‰ä¹¡æ‘é£Ÿæçš„è¥å…»çŸ¥è¯†", duration: "2è¯¾æ—¶" },
                { name: "åšä¼ ç»Ÿå°åƒ", duration: "3è¯¾æ—¶" }
            ],
            progress: 0,
            createdAt: "2023-05-30"
        }

    ];

    // ç”¨æˆ·æ•°æ®
    let userData = JSON.parse(localStorage.getItem('userData')) || {
        favorites: [],
        progress: {},
        recentlyViewed: []
    };

    // æ˜¾ç¤ºæ¶ˆæ¯æç¤º
    function showMessage(text, duration = 3000) {
        const messageEl = document.getElementById('message');
        messageEl.textContent = text;
        messageEl.classList.add('show');

        setTimeout(() => {
            messageEl.classList.remove('show');
        }, duration);
    }

    // è¯¾ç¨‹æ’åºå‡½æ•°
    function sortCourses(courses, sortBy) {
        const sortedCourses = [...courses];

        switch(sortBy) {
            case 'popular':
                return sortedCourses.sort((a, b) => b.students - a.students);
            case 'rating':
                return sortedCourses.sort((a, b) => b.rating - a.rating);
            case 'newest':
                return sortedCourses.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            default:
                return sortedCourses;
        }
    }

    // é«˜çº§ç­›é€‰å‡½æ•°
    function applyAdvancedFilters(courses, filters) {
        return courses.filter(course => {
            // éš¾åº¦ç­›é€‰
            if (filters.level !== 'all' && course.level !== filters.level) {
                return false;
            }

            // æ—¶é•¿ç­›é€‰
            if (filters.duration !== 'all') {
                const durationValue = parseInt(course.duration);
                if (filters.duration === 'short' && durationValue > 5) return false;
                if (filters.duration === 'medium' && (durationValue <= 5 || durationValue > 10)) return false;
                if (filters.duration === 'long' && durationValue <= 10) return false;
            }

            // è¿›åº¦ç­›é€‰
            if (filters.progress !== 'all') {
                if (filters.progress === 'not-started' && course.progress > 0) return false;
                if (filters.progress === 'in-progress' && (course.progress === 0 || course.progress === 100)) return false;
                if (filters.progress === 'completed' && course.progress < 100) return false;
            }

            // è¯„åˆ†ç­›é€‰
            if (filters.rating !== 'all') {
                const ratingThreshold = parseFloat(filters.rating);
                if (course.rating < ratingThreshold) return false;
            }

            return true;
        });
    }

    // åŠ¨æ€ç”Ÿæˆè¯¾ç¨‹å¡ç‰‡
    function renderCourses(filterCategory = 'all', searchTerm = '', sortBy = 'popular', advancedFilters = {}) {
        const coursesGrid = document.getElementById('coursesGrid');
        coursesGrid.innerHTML = '';

        let filteredCourses = filterCategory === 'all'
            ? courses
            : courses.filter(course => course.category === filterCategory);

        // æœç´¢è¿‡æ»¤
        if (searchTerm) {
            filteredCourses = filteredCourses.filter(course =>
                course.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                course.description.toLowerCase().includes(searchTerm.toLowerCase()) ||
                course.category.toLowerCase().includes(searchTerm.toLowerCase())
            );
        }

        // åº”ç”¨é«˜çº§ç­›é€‰
        if (Object.keys(advancedFilters).length > 0) {
            filteredCourses = applyAdvancedFilters(filteredCourses, advancedFilters);
        }

        // æ’åº
        filteredCourses = sortCourses(filteredCourses, sortBy);

        if (filteredCourses.length === 0) {
            coursesGrid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-light); font-size: 18px; padding: 40px;">æš‚æ— ç›¸å…³è¯¾ç¨‹</p>';
            return;
        }

        filteredCourses.forEach(course => {
            const isFavorite = userData.favorites.includes(course.id);
            const courseCard = document.createElement('div');
            courseCard.className = 'course-card';
            courseCard.innerHTML = `
                    <div class="course-image">
                        ${course.icon}
                        <span class="course-category">${course.category}</span>
                        <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-course-id="${course.id}">
                            ${isFavorite ? 'â¤ï¸' : 'ğŸ¤'}
                        </button>
                    </div>
                    <div class="course-content">
                        <h3 class="course-title">${course.title}</h3>
                        <p class="course-description">${course.description}</p>
                        <div class="course-meta">
                            <div class="course-duration">
                                <span>â±ï¸</span> ${course.duration}
                            </div>
                            <div class="course-level">
                                <span>ğŸ“Š</span> ${course.level}
                            </div>
                        </div>
                        <div class="course-meta">
                            <div class="course-students">
                                <span>ğŸ‘¥</span> ${course.students}äººå­¦ä¹ 
                            </div>
                            <div class="course-rating">
                                <span>â­</span> ${course.rating}
                            </div>
                        </div>
                        ${course.progress > 0 ? `
                            <div class="progress-bar">
                                <div class="progress" style="width: ${course.progress}%"></div>
                            </div>
                            <div class="progress-text">å·²å­¦ä¹  ${course.progress}%</div>
                        ` : ''}
                        <button class="course-btn" data-course-id="${course.id}">${course.progress > 0 ? 'ç»§ç»­å­¦ä¹ ' : 'å¼€å§‹å­¦ä¹ '}</button>
                    </div>
                `;
            coursesGrid.appendChild(courseCard);
        });

        // ä¸ºå¼€å§‹å­¦ä¹ æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬
        document.querySelectorAll('.course-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const courseId = this.getAttribute('data-course-id');
                const course = courses.find(c => c.id == courseId);
                showCourseModal(course);
            });
        });

        // ä¸ºæ”¶è—æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬
        document.querySelectorAll('.favorite-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const courseId = parseInt(this.getAttribute('data-course-id'));
                toggleFavorite(courseId, this);
            });
        });

        // ä¸ºè¯¾ç¨‹å¡ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼ˆæ‰“å¼€è¯¦æƒ…ï¼‰
        document.querySelectorAll('.course-card').forEach(card => {
            card.addEventListener('click', function() {
                const courseId = this.querySelector('.course-btn').getAttribute('data-course-id');
                const course = courses.find(c => c.id == courseId);
                showCourseModal(course);
            });
        });
    }

    // æ˜¾ç¤ºè¯¾ç¨‹è¯¦æƒ…æ¨¡æ€æ¡†
    function showCourseModal(course) {
        const modal = document.getElementById('courseModal');
        const modalTitle = document.getElementById('modalCourseTitle');
        const modalCategory = document.getElementById('modalCourseCategory');
        const modalLevel = document.getElementById('modalCourseLevel');
        const modalDuration = document.getElementById('modalCourseDuration');
        const modalStudents = document.getElementById('modalCourseStudents');
        const modalDescription = document.getElementById('modalCourseDescription');
        const modalImage = document.getElementById('modalCourseImage');
        const modalChapterList = document.getElementById('modalChapterList');
        const modalProgressFill = document.getElementById('modalProgressFill');
        const modalProgressText = document.getElementById('modalProgressText');
        const startLearningBtn = document.getElementById('startLearningBtn');
        const addToFavoritesBtn = document.getElementById('addToFavoritesBtn');

        // å¡«å……æ¨¡æ€æ¡†å†…å®¹
        modalTitle.textContent = course.title;
        modalCategory.textContent = course.category;
        modalLevel.textContent = course.level;
        modalDuration.textContent = course.duration;
        modalStudents.textContent = `${course.students}äºº`;
        modalDescription.textContent = course.description;
        modalImage.innerHTML = course.icon;
        modalProgressFill.style.width = `${course.progress}%`;
        modalProgressText.textContent = `å­¦ä¹ è¿›åº¦: ${course.progress}%`;

        // ç”Ÿæˆç« èŠ‚åˆ—è¡¨
        modalChapterList.innerHTML = '';
        course.chapters.forEach((chapter, index) => {
            const chapterItem = document.createElement('li');
            chapterItem.className = 'chapter-item';
            chapterItem.innerHTML = `
                    <span class="chapter-name">${index + 1}. ${chapter.name}</span>
                    <span class="chapter-duration">${chapter.duration}</span>
                `;
            modalChapterList.appendChild(chapterItem);
        });

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        const isFavorite = userData.favorites.includes(course.id);
        addToFavoritesBtn.innerHTML = isFavorite ? 'å·²æ”¶è—' : 'åŠ å…¥æ”¶è—';
        addToFavoritesBtn.style.background = isFavorite ? '#ff4757' : '#f0f0f0';
        addToFavoritesBtn.style.color = isFavorite ? 'white' : 'var(--text-dark)';


        // æ˜¾ç¤ºæ¨¡æ€æ¡†
        modal.classList.add('active');

        // æ·»åŠ è¯¾ç¨‹åˆ°æœ€è¿‘æŸ¥çœ‹
        addToRecentlyViewed(course.id);
    }

    // åˆ‡æ¢æ”¶è—çŠ¶æ€
    function toggleFavorite(courseId, button) {
        const index = userData.favorites.indexOf(courseId);
        if (index > -1) {
            userData.favorites.splice(index, 1);
            button.innerHTML = 'ğŸ¤';
            button.classList.remove('active');
            showMessage('å·²ä»æ”¶è—ä¸­ç§»é™¤');
        } else {
            userData.favorites.push(courseId);
            button.innerHTML = 'â¤ï¸';
            button.classList.add('active');
            showMessage('å·²æ·»åŠ åˆ°æ”¶è—');
        }

        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem('userData', JSON.stringify(userData));

        // å¦‚æœæ¨¡æ€æ¡†æ‰“å¼€ï¼Œæ›´æ–°æ¨¡æ€æ¡†ä¸­çš„æ”¶è—æŒ‰é’®
        const modal = document.getElementById('courseModal');
        if (modal.classList.contains('active')) {
            const addToFavoritesBtn = document.getElementById('addToFavoritesBtn');
            const isFavorite = userData.favorites.includes(courseId);
            addToFavoritesBtn.innerHTML = isFavorite ? 'å·²æ”¶è—' : 'åŠ å…¥æ”¶è—';
            addToFavoritesBtn.style.background = isFavorite ? '#ff4757' : '#f0f0f0';
            addToFavoritesBtn.style.color = isFavorite ? 'white' : 'var(--text-dark)';
        }
    }

    // æ·»åŠ åˆ°æœ€è¿‘æŸ¥çœ‹
    function addToRecentlyViewed(courseId) {
        const index = userData.recentlyViewed.indexOf(courseId);
        if (index > -1) {
            userData.recentlyViewed.splice(index, 1);
        }
        userData.recentlyViewed.unshift(courseId);

        // åªä¿ç•™æœ€è¿‘5ä¸ª
        if (userData.recentlyViewed.length > 5) {
            userData.recentlyViewed = userData.recentlyViewed.slice(0, 5);
        }

        localStorage.setItem('userData', JSON.stringify(userData));
    }

    // ç‰¹è‰²è¯¾ç¨‹è½®æ’­
    let currentSlide = 0;
    const slides = document.querySelectorAll('.featured-slide');
    const dots = document.querySelectorAll('.slider-dot');

    function showSlide(index) {
        // éšè—æ‰€æœ‰å¹»ç¯ç‰‡
        slides.forEach(slide => slide.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active'));

        // æ˜¾ç¤ºå½“å‰å¹»ç¯ç‰‡
        slides[index].classList.add('active');
        dots[index].classList.add('active');
        currentSlide = index;
    }

    // è‡ªåŠ¨è½®æ’­
    function autoSlide() {
        let nextSlide = (currentSlide + 1) % slides.length;
        showSlide(nextSlide);
    }

    // åˆå§‹åŒ–é¡µé¢
    document.addEventListener('DOMContentLoaded', function() {
        // åˆå§‹æ¸²æŸ“å…¨éƒ¨è¯¾ç¨‹
        renderCourses();

        // ä¸ºç­›é€‰æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                // ä¸ºå½“å‰ç‚¹å‡»çš„æŒ‰é’®æ·»åŠ activeç±»
                this.classList.add('active');
                // æ ¹æ®data-categoryå±æ€§ç­›é€‰è¯¾ç¨‹
                const category = this.getAttribute('data-category');
                renderCourses(category);
            });
        });

        // ä¸ºæ’åºæŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬
        document.querySelectorAll('.sort-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.classList.contains('toggle-advanced')) return;

                // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
                // ä¸ºå½“å‰ç‚¹å‡»çš„æŒ‰é’®æ·»åŠ activeç±»
                this.classList.add('active');
                // æ ¹æ®data-sortå±æ€§æ’åºè¯¾ç¨‹
                const sortBy = this.getAttribute('data-sort');
                renderCourses('all', '', sortBy);
            });
        });

        // æœç´¢åŠŸèƒ½
        const searchInput = document.getElementById('searchInput');
        let searchTimeout;
        searchInput.addEventListener('input', function() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                const searchTerm = this.value;
                renderCourses('all', searchTerm);
            }, 300);
        });

        // é«˜çº§ç­›é€‰åˆ‡æ¢
        const toggleAdvanced = document.getElementById('toggleAdvanced');
        const advancedPanel = document.getElementById('advancedFilterPanel');
        toggleAdvanced.addEventListener('click', function() {
            advancedPanel.classList.toggle('active');
            this.innerHTML = advancedPanel.classList.contains('active') ? 'é«˜çº§ç­›é€‰ âˆ§' : 'é«˜çº§ç­›é€‰ âˆ¨';
        });

        // é«˜çº§ç­›é€‰å˜åŒ–ç›‘å¬
        const advancedFilters = {
            level: document.getElementById('levelFilter'),
            duration: document.getElementById('durationFilter'),
            progress: document.getElementById('progressFilter'),
            rating: document.getElementById('ratingFilter')
        };

        Object.values(advancedFilters).forEach(select => {
            select.addEventListener('change', function() {
                const filters = {
                    level: advancedFilters.level.value,
                    duration: advancedFilters.duration.value,
                    progress: advancedFilters.progress.value,
                    rating: advancedFilters.rating.value
                };
                renderCourses('all', '', 'popular', filters);
            });
        });

        // ä¸ºç‰¹è‰²è¯¾ç¨‹çš„ç«‹å³å­¦ä¹ æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬
        document.querySelectorAll('.slide-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const slideTitle = this.closest('.slide-content').querySelector('.slide-title').textContent;
                const course = courses.find(c => c.title === slideTitle);
                if (course) {
                    showCourseModal(course);
                } else {
                    showMessage('å¼€å§‹å­¦ä¹ åŠŸèƒ½æ¼”ç¤º');
                }
            });
        });

        // ä¸ºè½®æ’­ç‚¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
        dots.forEach(dot => {
            dot.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                showSlide(index);
            });
        });

        // ç”¨æˆ·èœå•åŠŸèƒ½
        const userAvatar = document.getElementById('userAvatar');
        const userMenu = document.getElementById('userMenu');
        userAvatar.addEventListener('click', function() {
            userMenu.classList.toggle('active');
        });

        // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­ç”¨æˆ·èœå•
        document.addEventListener('click', function(e) {
            if (!userAvatar.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.remove('active');
            }
        });

        // æ¨¡æ€æ¡†å…³é—­åŠŸèƒ½
        const closeModal = document.getElementById('closeModal');
        const courseModal = document.getElementById('courseModal');
        closeModal.addEventListener('click', function() {
            courseModal.classList.remove('active');
        });

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        courseModal.addEventListener('click', function(e) {
            if (e.target === courseModal) {
                courseModal.classList.remove('active');
            }
        });

        // å¼€å§‹å­¦ä¹ æŒ‰é’®åŠŸèƒ½
        const startLearningBtn = document.getElementById('startLearningBtn');
        startLearningBtn.addEventListener('click', function() {
            const startLearningText = document.getElementById('startLearningText');
            const startLearningLoader = document.getElementById('startLearningLoader');

            startLearningText.style.display = 'none';
            startLearningLoader.style.display = 'inline-block';

            setTimeout(() => {
                startLearningText.style.display = 'inline';
                startLearningLoader.style.display = 'none';
                showMessage('è¯¾ç¨‹åŠ è½½æˆåŠŸï¼Œå³å°†å¼€å§‹å­¦ä¹ ï¼');

                // æ¨¡æ‹Ÿè·³è½¬åˆ°å­¦ä¹ é¡µé¢
                setTimeout(() => {
                    window.location.href = 'learning.html';
                }, 1500);
            }, 2000);
        });

        // åŠ å…¥æ”¶è—æŒ‰é’®åŠŸèƒ½
        const addToFavoritesBtn = document.getElementById('addToFavoritesBtn');
        addToFavoritesBtn.addEventListener('click', function() {
            const modalTitle = document.getElementById('modalCourseTitle').textContent;
            const course = courses.find(c => c.title === modalTitle);
            if (course) {
                toggleFavorite(course.id, this);
            }
        });

        // å¯åŠ¨è‡ªåŠ¨è½®æ’­
        setInterval(autoSlide, 5000);

        // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
        setTimeout(() => {
            showMessage('æ¬¢è¿æ¥åˆ°ä¹¡æ‘éŸµå­¦è¯¾ç¨‹ä¸­å¿ƒï¼å‘ç°ä¹¡æ‘æ–‡åŒ–çš„æ— é™é­…åŠ›ã€‚');
        }, 1000);
    });
</script>
</body>
</html>
